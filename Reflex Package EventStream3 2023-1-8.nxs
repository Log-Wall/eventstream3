{"type":"group","name":"eventStream3","enabled":true,"items":[{"type":"function","name":"onLoad","enabled":true,"code":"nexusclient.api_funcs = () => ['send_command', 'display_notice', 'display_html_line', 'get_variable', 'set_variable', 'delete_variable', 'inc_variable', 'dec_variable', 'mul_variable', 'div_variable', 'send_GMCP', 'run_function', 'to_number', 'reflex_find_by_name', 'reflex_enable', 'reflex_disable', 'current_text', 'gag_current_line', 'colorize_current_line', 'replace_current_line', 'notification_show', 'buttons_set_label', 'buttons_set_commands', 'buttons_set_highlight', 'buttons_set_default', 'gmcp', 'open_channel', 'close_channel', 'current_layout', 'set_current_layout', 'send_direct', 'print', 'nexus', 'client', 'GMCP', 'nexusclient', 'nexMap', 'nexGui', 'nexSys', 'nexAction', 'nexBash', 'nexTransmute', 'nexDrop', 'eventStream', 'globalThis'];\n\nglobalThis.GMCP = nexusclient.datahandler().GMCP;\nimport('https://unpkg.com/nexevent/bundle.min.js')\n\t.then(() => {\n\t\tnexusclient.reflexes().run_function('esLoad', {}, 'ALL');\n\t});\n\n// Packages that rely on initializing with loading events to eventStream should be placed in\n// a separate function \"esLoad\". This ensures that eventStream is loaded first."},{"type":"function","name":"onGMCP","enabled":true,"code":"if (typeof eventStream === 'undefined') { return; }\ntry {\n  globalThis.eventStream.gmcpBackLog.push(args);\n  globalThis.eventStream.gmcpHandler();\n  //window.eventStream.raiseEvent(args.gmcp_method, args.gmcp_args);\n} catch(err) {\n  console.log(err);\n  throw err;\n}"},{"type":"function","name":"onBlock","enabled":true,"code":"if (typeof eventStream !== 'undefined') {\n\tglobalThis.eventStream.raiseEvent('PromptEvent');\n}"}],"description":"Khaseem's eventStream package for Nexus 3.0"}